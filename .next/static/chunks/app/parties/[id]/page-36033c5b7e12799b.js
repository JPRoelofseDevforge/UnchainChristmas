(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{1629:function(e,n,t){Promise.resolve().then(t.bind(t,6625))},6625:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r}});var l=t(7437),a=t(2265),s=t(1169);function r(){let e=(0,s.useParams)(),[n,t]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[o,d]=(0,a.useState)({}),[c,u]=(0,a.useState)({});(0,a.useEffect)(()=>{e.id&&fetch("/api/parties/".concat(e.id)).then(e=>e.json()).then(e=>{t(e),i(!1)}).catch(e=>{console.error("Error fetching party:",e),i(!1)})},[e.id]);let h=async e=>{let n=c[e];if(!(null==n?void 0:n.donorName)||!(null==n?void 0:n.donorEmail)){alert("Please fill in your name and email so we can thank you! \uD83C\uDF81");return}try{let t=await fetch("/api/pledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({childId:e,...n})});if(t.ok)alert("\uD83C\uDF89 THANK YOU! You just made Christmas magical for a child! ✨ Your kindness brings hope and joy! \uD83C\uDF84"),window.location.reload();else{let e=await t.json();alert("❌ ".concat(e.error||"Something went wrong, but thank you for trying to help!"))}}catch(e){console.error("Error making pledge:",e),alert("❌ Sorry, there was an issue. Please try again - every child needs your help! \uD83D\uDE4F")}};if(r)return(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-6xl animate-bounce mb-4",children:"\uD83C\uDF84"}),(0,l.jsx)("p",{className:"text-2xl text-unchain-blue animate-pulse",children:"Finding the children who need your help..."})]});if(!n)return(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDE14"}),(0,l.jsx)("p",{className:"text-xl text-gray-600",children:"Party not found, but there are other children waiting for you!"}),(0,l.jsx)("a",{href:"/parties",className:"inline-block mt-4 bg-unchain-blue text-white px-6 py-3 rounded-full hover:bg-blue-700",children:"Find Other Parties"})]});let x=n.children.filter(e=>!e.pledged),m=n.children.filter(e=>e.pledged);return(0,l.jsxs)("div",{className:"py-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("a",{href:"/parties",className:"inline-flex items-center bg-unchain-blue text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mr-4",children:"← \uD83C\uDFAA Back to Parties"}),(0,l.jsx)("a",{href:"/",className:"inline-flex items-center bg-unchain-green text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"\uD83C\uDFE0 Home"})]}),(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsxs)("h1",{className:"text-5xl font-bold mb-4 text-unchain-red animate-float",children:["\uD83C\uDFAA ",n.name," \uD83C\uDFAA"]}),(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl inline-block border-4 border-unchain-yellow",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCC5"}),(0,l.jsx)("p",{className:"font-bold text-unchain-blue",children:new Date(n.date).toLocaleDateString("en-ZA",{weekday:"long",month:"long",day:"numeric"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCD"}),(0,l.jsx)("p",{className:"font-bold text-unchain-green",children:n.location})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDC76"}),(0,l.jsxs)("p",{className:"font-bold text-unchain-orange",children:[n.children.length," Children"]})]})]}),(0,l.jsx)("p",{className:"mt-4 text-gray-700 italic text-lg",children:n.description})]})]}),x.length>0&&(0,l.jsxs)("div",{className:"bg-gradient-to-r from-unchain-red to-unchain-orange text-white p-6 rounded-2xl mb-8 text-center shadow-xl",children:[(0,l.jsxs)("h2",{className:"text-3xl font-bold mb-3",children:["\uD83D\uDEA8 ",x.length," Children Still Need Your Help! \uD83D\uDEA8"]}),(0,l.jsx)("p",{className:"text-xl mb-4",children:"These amazing kids are dreaming of Christmas magic! Your gift can make their wishes come true! ✨"}),(0,l.jsx)("div",{className:"text-4xl animate-bounce",children:"\uD83C\uDF81 ❤️ \uD83C\uDF84"})]}),(0,l.jsxs)("div",{className:"space-y-12",children:[x.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-4xl font-bold text-center mb-8 text-unchain-red animate-pulse",children:"\uD83C\uDF84 Children Waiting for Christmas Magic \uD83C\uDF84"}),(0,l.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:x.map((e,n)=>(0,l.jsxs)("div",{className:"bg-gradient-to-br from-white to-unchain-yellow/20 p-8 rounded-2xl shadow-xl border-4 border-unchain-orange transform hover:scale-105 transition-all duration-300 animate-float",style:{animationDelay:"".concat(.1*n,"s")},children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"text-6xl mb-3 animate-bounce",children:"\uD83D\uDC76"}),(0,l.jsx)("h3",{className:"text-3xl font-bold text-unchain-blue mb-2",children:e.name}),(0,l.jsx)("div",{className:"bg-unchain-green/20 px-4 py-2 rounded-full inline-block",children:(0,l.jsxs)("span",{className:"font-bold text-unchain-green",children:["Age ",e.age]})})]}),(0,l.jsxs)("div",{className:"bg-white/80 p-4 rounded-xl mb-6",children:[(0,l.jsx)("h4",{className:"font-bold mb-3 text-unchain-red text-xl flex items-center justify-center",children:"\uD83C\uDF81 Wishlist \uD83C\uDF81"}),(0,l.jsx)("ul",{className:"space-y-2",children:e.wishlist.map(e=>(0,l.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,l.jsx)("span",{className:"text-2xl mr-3",children:"⭐"}),(0,l.jsx)("span",{className:"font-medium",children:e.text})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-unchain-red/10 p-4 rounded-xl mb-6 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold text-unchain-red mb-2",children:"This child needs YOUR help! \uD83D\uDE4F"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Your generosity can change their Christmas forever! ✨"})]}),o[e.id]?(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl space-y-4",children:[(0,l.jsx)("h4",{className:"font-bold text-center text-unchain-blue text-lg mb-4",children:"✨ You're About to Make Magic Happen! ✨"}),(0,l.jsx)("input",{type:"text",placeholder:"Your Name (so we can thank you!)",className:"w-full p-3 border-2 border-unchain-yellow rounded-lg focus:border-unchain-blue focus:outline-none",onChange:n=>u(t=>({...t,[e.id]:{...t[e.id],donorName:n.target.value}}))}),(0,l.jsx)("input",{type:"email",placeholder:"Your Email",className:"w-full p-3 border-2 border-unchain-yellow rounded-lg focus:border-unchain-blue focus:outline-none",onChange:n=>u(t=>({...t,[e.id]:{...t[e.id],donorEmail:n.target.value}}))}),(0,l.jsx)("input",{type:"tel",placeholder:"Your Cellphone Number (optional)",className:"w-full p-3 border-2 border-unchain-yellow rounded-lg focus:border-unchain-blue focus:outline-none",onChange:n=>u(t=>({...t,[e.id]:{...t[e.id],donorPhone:n.target.value}}))}),(0,l.jsx)("textarea",{placeholder:"A special message for the child? (optional)",className:"w-full p-3 border-2 border-unchain-yellow rounded-lg focus:border-unchain-blue focus:outline-none resize-none",rows:3,onChange:n=>u(t=>({...t,[e.id]:{...t[e.id],message:n.target.value}}))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>h(e.id),className:"flex-1 bg-gradient-to-r from-unchain-green to-green-500 text-white font-bold py-3 px-6 rounded-full hover:from-green-600 hover:to-green-600 transform hover:scale-105 transition-all duration-300 shadow-lg",children:"\uD83C\uDF89 Make Their Wish Come True! \uD83C\uDF89"}),(0,l.jsx)("button",{onClick:()=>d(n=>({...n,[e.id]:!1})),className:"bg-gray-500 text-white px-6 py-3 rounded-full hover:bg-gray-600 transition-all duration-300",children:"Cancel"})]})]}):(0,l.jsxs)("button",{onClick:()=>d(n=>({...n,[e.id]:!0})),className:"w-full bg-gradient-to-r from-unchain-red to-unchain-orange text-white font-bold py-4 px-6 rounded-full hover:from-red-600 hover:to-orange-600 transform hover:scale-105 transition-all duration-300 shadow-lg text-lg animate-pulse",children:["\uD83C\uDF81 I Want to Help ",e.name,"! \uD83C\uDF81"]})]},e.id))})]}),m.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-4xl font-bold text-center mb-8 text-unchain-green",children:"\uD83C\uDF89 These Children Have Been Blessed! \uD83C\uDF89"}),(0,l.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:m.map(e=>(0,l.jsxs)("div",{className:"bg-gradient-to-br from-unchain-green/20 to-green-100 p-6 rounded-xl border-4 border-unchain-green text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF84"}),(0,l.jsx)("h3",{className:"font-bold text-unchain-green text-xl mb-1",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Age ",e.age]}),(0,l.jsx)("div",{className:"mt-3 bg-unchain-green text-white px-3 py-1 rounded-full text-sm font-bold",children:"❤️ Pledged For! ❤️"}),e.pledges.length>0&&(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["By: ",e.pledges[0].donorName||"Anonymous"]})]},e.id))})]})]}),(0,l.jsx)("div",{className:"text-center mt-12",children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-unchain-blue to-unchain-green p-8 rounded-2xl shadow-xl",children:[(0,l.jsx)("h3",{className:"text-3xl font-bold text-white mb-4",children:"\uD83C\uDF1F Your Kindness Changes Lives! \uD83C\uDF1F"}),(0,l.jsxs)("p",{className:"text-xl text-white mb-6",children:["Every child you help gets to experience the magic of Christmas.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"font-bold text-yellow-300",children:"Will you be their hero today? \uD83E\uDDB8‍♀️"})]}),(0,l.jsx)("div",{className:"text-4xl animate-bounce",children:"❤️ \uD83C\uDF81 ✨"})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1629)}),_N_E=e.O()}]);